DROP DATABASE IF EXISTS cinema;
CREATE DATABASE cinema;

USE cinema;

CREATE TABLE BOOKINGS (
    Booking_ID  INT(7) PRIMARY KEY AUTO_INCREMENT,
    Customer_ID INT(7) NOT NULL,
    Showing_ID  INT(7) NOT NULL,
    Seat_ID     INT(4) NOT NULL,
    CONSTRAINT Customer_ID_FK
        FOREIGN KEY (Customer_ID) REFERENCES CUSTOMERS (Customer_ID),
    CONSTRAINT Showing_ID_FK
        FOREIGN KEY (Showing_ID) REFERENCES SHOWINGS (Showing_ID),
    CONSTRAINT Seat_ID_FK
        FOREIGN KEY (Seat_ID) REFERENCES SEATS (Seat_ID)
);

CREATE TABLE MOVIES (
    Movie_ID     INT(7) PRIMARY KEY AUTO_INCREMENT,
    Movie_name   VARCHAR(80) NOT NULL,
    Movie_price  FLOAT(5)    NOT NULL,
    Movie_length INT(3)      NOT NULL
);

CREATE TABLE CUSTOMERS (
    Customer_ID   INT(7) PRIMARY KEY AUTO_INCREMENT,
    Customer_name VARCHAR(80) NOT NULL,
    Card_number   LONG
);

CREATE TABLE EMPLOYEES (
    Employee_ID        INT(7) PRIMARY KEY AUTO_INCREMENT,
    Employee_name      VARCHAR(80) NOT NULL,
    Employee_phone_num LONG        NOT NULL, #   +n nnn-nnn-nnnn
    Employee_wage      FLOAT(5)    NOT NULL,
    Supervisor_ID      INT(7),
    CONSTRAINT Supervisor_ID_FK
        FOREIGN KEY (Supervisor_ID) REFERENCES EMPLOYEES (Supervisor_ID)
);

CREATE TABLE SHOWINGS (
    Showing_ID   INT(7) PRIMARY KEY AUTO_INCREMENT,
    Movie_ID     INT      NOT NULL,
    Theater_ID   INT(2)   NOT NULL,
    Showing_time DATETIME NOT NULL,
    CONSTRAINT Movie_ID_FK
        FOREIGN KEY (Movie_ID) REFERENCES MOVIES (Movie_ID),
    CONSTRAINT Theater_ID_FK
        FOREIGN KEY (Theater_ID) REFERENCES THEATERS (Theater_ID)
);

CREATE TABLE THEATERS (
    Theater_ID       INT(2) PRIMARY KEY AUTO_INCREMENT,
    Theater_capacity INT(3)
);

CREATE TABLE SEATS (
    Seat_ID    INT(4) PRIMARY KEY AUTO_INCREMENT,
    Theater_ID INT(2) NOT NULL,
    Seat_row   INT(3) NOT NULL,
    Seat_col   INT(3) NOT NULL,
    CONSTRAINT Theater_ID_FK
        FOREIGN KEY (Theater_ID) REFERENCES THEATERS (Theater_ID)
);

INSERT INTO EMPLOYEES (Employee_name, Employee_phone_num, Employee_wage, Supervisor_ID)
VALUES ('Ethan Lee', 9405632381, 30, NULL),
       ('Isla Perez', 4435148319, 20, 1),
       ('Luca Thompson', 7605612627, 20, 1),
       ('Alexander White', 6596713182, 10, 2),
       ('Ivy Harris', 1763528363, 10, 2),
       ('Sage Sanchez', 5036458672, 10, 2),
       ('Felix Clark', 1000343117, 10, 2),
       ('Freya Ramirez', 9204308012, 10, 3),
       ('Harper Lewis', 3365571950, 10, 3),
       ('Henry Robinson', 5360501597, 10, 3),
       ('Nora Walker', 8462762411, 10, 3);

INSERT INTO THEATERS (Theater_capacity)
VALUES (100), # 10x10
       (120), # 12x10
       (150); # 10x15

INSERT INTO MOVIES (Movie_name, Movie_price, Movie_length)
VALUES ('The Shawshank Redemption', 7.41, 144),
       ('The Godfather', 5.30, 175),
       ('12 Angry Men', 12.31, 96),
       ('The Schindler\'s List', 11.13, 195),
       ('The Dark Knight', 14.38, 152),
       ('The Lord of the Rings: The Return of the King', 9.75, 201),
       ('Pulp Fiction', 8.94, 154),
       ('The Good, the Bad and the Ugly', 11.24, 161),
       ('Forrest Gump', 11.80, 142),
       ('Fight Club', 6.43, 139),
       ('Inception', 6.20, 148),
       ('The Matrix', 11.10, 136);

INSERT INTO SHOWINGS (Movie_ID, Theater_ID, Showing_time)
VALUES (3, 2, '2022:05:13:20:30:00'),
       (11, 1, '2022:05:13:19:15:00'),
       (8, 3, '2022:05:8:18:15:00'),
       (7, 3, '2022:05:6:14:45:00'),
       (6, 2, '2022:05:9:10:15:00'),
       (6, 3, '2022:05:5:8:15:00'),
       (1, 2, '2022:05:9:20:45:00'),
       (13, 3, '2022:05:11:20:30:00'),
       (6, 1, '2022:05:5:8:15:00'),
       (1, 3, '2022:05:14:8:15:00'),
       (13, 1, '2022:05:14:13:45:00'),
       (8, 3, '2022:05:8:15:15:00'),
       (5, 2, '2022:05:5:8:15:00'),
       (1, 3, '2022:05:8:12:30:00'),
       (1, 1, '2022:05:13:12:15:00'),
       (6, 3, '2022:05:10:13:15:00'),
       (6, 3, '2022:05:12:13:00:00'),
       (6, 2, '2022:05:11:13:45:00'),
       (1, 2, '2022:05:9:12:30:00'),
       (9, 2, '2022:05:6:20:00:00'),
       (8, 3, '2022:05:11:13:30:00'),
       (4, 3, '2022:05:15:20:45:00'),
       (11, 3, '2022:05:9:9:30:00'),
       (7, 1, '2022:05:12:14:45:00'),
       (2, 3, '2022:05:14:11:45:00'),
       (2, 2, '2022:05:11:9:30:00'),
       (8, 2, '2022:05:11:20:30:00'),
       (12, 2, '2022:05:12:13:15:00'),
       (10, 3, '2022:05:5:11:45:00'),
       (8, 2, '2022:05:9:14:45:00'),
       (5, 2, '2022:05:8:14:15:00'),
       (11, 1, '2022:05:14:9:00:00'),
       (10, 1, '2022:05:11:9:30:00'),
       (8, 1, '2022:05:8:20:30:00'),
       (4, 3, '2022:05:10:19:30:00'),
       (10, 3, '2022:05:12:15:45:00'),
       (2, 1, '2022:05:5:16:45:00'),
       (6, 2, '2022:05:13:9:30:00'),
       (7, 2, '2022:05:9:19:00:00'),
       (7, 3, '2022:05:5:20:15:00'),
       (3, 2, '2022:05:15:12:30:00'),
       (6, 2, '2022:05:11:18:30:00'),
       (12, 1, '2022:05:10:20:45:00'),
       (7, 1, '2022:05:12:12:00:00'),
       (5, 3, '2022:05:6:13:15:00'),
       (11, 1, '2022:05:5:12:15:00'),
       (13, 3, '2022:05:10:20:45:00'),
       (10, 2, '2022:05:8:10:15:00'),
       (6, 1, '2022:05:15:13:15:00'),
       (2, 1, '2022:05:10:13:00:00');

INSERT INTO CUSTOMERS (Customer_name, Card_number)
VALUES ('Oliver Smith', 2107601727356331),
       ('Charlotte Johnson', 4099054485670962),
       ('Declan Williams', 8366290583228653),
       ('Aurora Brown', 1439814420424966),
       ('Willow Jones', 3745987225247589),
       ('Theodore Garcia', 9238815411161319),
       ('Ezra Miller', 3449243412217571),
       ('Rowan Davis', 6681714504167914),
       ('Violet Rodriguez', 1057358492981911),
       ('Jasper Martinez', 1492594316227165),
       ('Hazel Hernandez', 1379904604696674),
       ('James Lopez', 7009802579737808),
       ('Silas Gonzales', 7681523933151431),
       ('Luna Wilson', 5579052968359376),
       ('Quinn Anderson', 2711492366562456),
       ('Liam Thomas', 4179104605684309),
       ('Asher Thomas', 6942810320769993),
       ('Aria Taylor', 2047876190477458),
       ('Kai Moore', 4827698071436422),
       ('Finn Jackson', 6454740541377496),
       ('Owen Martin', 5178892741904174);

INSERT INTO SEATS (Theater_ID, Seat_row, Seat_col)
VALUES (1, 1, 1),
       (1, 1, 2),
       (1, 1, 3),
       (1, 1, 4),
       (1, 1, 5),
       (1, 1, 6),
       (1, 1, 7),
       (1, 1, 8),
       (1, 1, 9),
       (1, 1, 10),
       (1, 2, 1),
       (1, 2, 2),
       (1, 2, 3),
       (1, 2, 4),
       (1, 2, 5),
       (1, 2, 6),
       (1, 2, 7),
       (1, 2, 8),
       (1, 2, 9),
       (1, 2, 10),
       (1, 3, 1),
       (1, 3, 2),
       (1, 3, 3),
       (1, 3, 4),
       (1, 3, 5),
       (1, 3, 6),
       (1, 3, 7),
       (1, 3, 8),
       (1, 3, 9),
       (1, 3, 10),
       (1, 4, 1),
       (1, 4, 2),
       (1, 4, 3),
       (1, 4, 4),
       (1, 4, 5),
       (1, 4, 6),
       (1, 4, 7),
       (1, 4, 8),
       (1, 4, 9),
       (1, 4, 10),
       (1, 5, 1),
       (1, 5, 2),
       (1, 5, 3),
       (1, 5, 4),
       (1, 5, 5),
       (1, 5, 6),
       (1, 5, 7),
       (1, 5, 8),
       (1, 5, 9),
       (1, 5, 10),
       (1, 6, 1),
       (1, 6, 2),
       (1, 6, 3),
       (1, 6, 4),
       (1, 6, 5),
       (1, 6, 6),
       (1, 6, 7),
       (1, 6, 8),
       (1, 6, 9),
       (1, 6, 10),
       (1, 7, 1),
       (1, 7, 2),
       (1, 7, 3),
       (1, 7, 4),
       (1, 7, 5),
       (1, 7, 6),
       (1, 7, 7),
       (1, 7, 8),
       (1, 7, 9),
       (1, 7, 10),
       (1, 8, 1),
       (1, 8, 2),
       (1, 8, 3),
       (1, 8, 4),
       (1, 8, 5),
       (1, 8, 6),
       (1, 8, 7),
       (1, 8, 8),
       (1, 8, 9),
       (1, 8, 10),
       (1, 9, 1),
       (1, 9, 2),
       (1, 9, 3),
       (1, 9, 4),
       (1, 9, 5),
       (1, 9, 6),
       (1, 9, 7),
       (1, 9, 8),
       (1, 9, 9),
       (1, 9, 10),
       (1, 10, 1),
       (1, 10, 2),
       (1, 10, 3),
       (1, 10, 4),
       (1, 10, 5),
       (1, 10, 6),
       (1, 10, 7),
       (1, 10, 8),
       (1, 10, 9),
       (1, 10, 10),
       (2, 1, 1),
       (2, 1, 2),
       (2, 1, 3),
       (2, 1, 4),
       (2, 1, 5),
       (2, 1, 6),
       (2, 1, 7),
       (2, 1, 8),
       (2, 1, 9),
       (2, 1, 10),
       (2, 2, 1),
       (2, 2, 2),
       (2, 2, 3),
       (2, 2, 4),
       (2, 2, 5),
       (2, 2, 6),
       (2, 2, 7),
       (2, 2, 8),
       (2, 2, 9),
       (2, 2, 10),
       (2, 3, 1),
       (2, 3, 2),
       (2, 3, 3),
       (2, 3, 4),
       (2, 3, 5),
       (2, 3, 6),
       (2, 3, 7),
       (2, 3, 8),
       (2, 3, 9),
       (2, 3, 10),
       (2, 4, 1),
       (2, 4, 2),
       (2, 4, 3),
       (2, 4, 4),
       (2, 4, 5),
       (2, 4, 6),
       (2, 4, 7),
       (2, 4, 8),
       (2, 4, 9),
       (2, 4, 10),
       (2, 5, 1),
       (2, 5, 2),
       (2, 5, 3),
       (2, 5, 4),
       (2, 5, 5),
       (2, 5, 6),
       (2, 5, 7),
       (2, 5, 8),
       (2, 5, 9),
       (2, 5, 10),
       (2, 6, 1),
       (2, 6, 2),
       (2, 6, 3),
       (2, 6, 4),
       (2, 6, 5),
       (2, 6, 6),
       (2, 6, 7),
       (2, 6, 8),
       (2, 6, 9),
       (2, 6, 10),
       (2, 7, 1),
       (2, 7, 2),
       (2, 7, 3),
       (2, 7, 4),
       (2, 7, 5),
       (2, 7, 6),
       (2, 7, 7),
       (2, 7, 8),
       (2, 7, 9),
       (2, 7, 10),
       (2, 8, 1),
       (2, 8, 2),
       (2, 8, 3),
       (2, 8, 4),
       (2, 8, 5),
       (2, 8, 6),
       (2, 8, 7),
       (2, 8, 8),
       (2, 8, 9),
       (2, 8, 10),
       (2, 9, 1),
       (2, 9, 2),
       (2, 9, 3),
       (2, 9, 4),
       (2, 9, 5),
       (2, 9, 6),
       (2, 9, 7),
       (2, 9, 8),
       (2, 9, 9),
       (2, 9, 10),
       (2, 10, 1),
       (2, 10, 2),
       (2, 10, 3),
       (2, 10, 4),
       (2, 10, 5),
       (2, 10, 6),
       (2, 10, 7),
       (2, 10, 8),
       (2, 10, 9),
       (2, 10, 10),
       (2, 11, 1),
       (2, 11, 2),
       (2, 11, 3),
       (2, 11, 4),
       (2, 11, 5),
       (2, 11, 6),
       (2, 11, 7),
       (2, 11, 8),
       (2, 11, 9),
       (2, 11, 10),
       (2, 12, 1),
       (2, 12, 2),
       (2, 12, 3),
       (2, 12, 4),
       (2, 12, 5),
       (2, 12, 6),
       (2, 12, 7),
       (2, 12, 8),
       (2, 12, 9),
       (2, 12, 10),
       (3, 1, 1),
       (3, 1, 2),
       (3, 1, 3),
       (3, 1, 4),
       (3, 1, 5),
       (3, 1, 6),
       (3, 1, 7),
       (3, 1, 8),
       (3, 1, 9),
       (3, 1, 10),
       (3, 1, 11),
       (3, 1, 12),
       (3, 1, 13),
       (3, 1, 14),
       (3, 1, 15),
       (3, 2, 1),
       (3, 2, 2),
       (3, 2, 3),
       (3, 2, 4),
       (3, 2, 5),
       (3, 2, 6),
       (3, 2, 7),
       (3, 2, 8),
       (3, 2, 9),
       (3, 2, 10),
       (3, 2, 11),
       (3, 2, 12),
       (3, 2, 13),
       (3, 2, 14),
       (3, 2, 15),
       (3, 3, 1),
       (3, 3, 2),
       (3, 3, 3),
       (3, 3, 4),
       (3, 3, 5),
       (3, 3, 6),
       (3, 3, 7),
       (3, 3, 8),
       (3, 3, 9),
       (3, 3, 10),
       (3, 3, 11),
       (3, 3, 12),
       (3, 3, 13),
       (3, 3, 14),
       (3, 3, 15),
       (3, 4, 1),
       (3, 4, 2),
       (3, 4, 3),
       (3, 4, 4),
       (3, 4, 5),
       (3, 4, 6),
       (3, 4, 7),
       (3, 4, 8),
       (3, 4, 9),
       (3, 4, 10),
       (3, 4, 11),
       (3, 4, 12),
       (3, 4, 13),
       (3, 4, 14),
       (3, 4, 15),
       (3, 5, 1),
       (3, 5, 2),
       (3, 5, 3),
       (3, 5, 4),
       (3, 5, 5),
       (3, 5, 6),
       (3, 5, 7),
       (3, 5, 8),
       (3, 5, 9),
       (3, 5, 10),
       (3, 5, 11),
       (3, 5, 12),
       (3, 5, 13),
       (3, 5, 14),
       (3, 5, 15),
       (3, 6, 1),
       (3, 6, 2),
       (3, 6, 3),
       (3, 6, 4),
       (3, 6, 5),
       (3, 6, 6),
       (3, 6, 7),
       (3, 6, 8),
       (3, 6, 9),
       (3, 6, 10),
       (3, 6, 11),
       (3, 6, 12),
       (3, 6, 13),
       (3, 6, 14),
       (3, 6, 15),
       (3, 7, 1),
       (3, 7, 2),
       (3, 7, 3),
       (3, 7, 4),
       (3, 7, 5),
       (3, 7, 6),
       (3, 7, 7),
       (3, 7, 8),
       (3, 7, 9),
       (3, 7, 10),
       (3, 7, 11),
       (3, 7, 12),
       (3, 7, 13),
       (3, 7, 14),
       (3, 7, 15),
       (3, 8, 1),
       (3, 8, 2),
       (3, 8, 3),
       (3, 8, 4),
       (3, 8, 5),
       (3, 8, 6),
       (3, 8, 7),
       (3, 8, 8),
       (3, 8, 9),
       (3, 8, 10),
       (3, 8, 11),
       (3, 8, 12),
       (3, 8, 13),
       (3, 8, 14),
       (3, 8, 15),
       (3, 9, 1),
       (3, 9, 2),
       (3, 9, 3),
       (3, 9, 4),
       (3, 9, 5),
       (3, 9, 6),
       (3, 9, 7),
       (3, 9, 8),
       (3, 9, 9),
       (3, 9, 10),
       (3, 9, 11),
       (3, 9, 12),
       (3, 9, 13),
       (3, 9, 14),
       (3, 9, 15),
       (3, 10, 1),
       (3, 10, 2),
       (3, 10, 3),
       (3, 10, 4),
       (3, 10, 5),
       (3, 10, 6),
       (3, 10, 7),
       (3, 10, 8),
       (3, 10, 9),
       (3, 10, 10),
       (3, 10, 11),
       (3, 10, 12),
       (3, 10, 13),
       (3, 10, 14),
       (3, 10, 15);

INSERT INTO BOOKINGS (Customer_ID, Showing_ID, Seat_ID)
VALUES (1, 15, 152),
       (1, 18, 246),
       (1, 13, 26),
       (2, 2, 333),
       (2, 9, 362),
       (3, 2, 84),
       (3, 5, 312),
       (3, 8, 157),
       (4, 5, 288),
       (5, 4, 182),
       (6, 9, 118),
       (6, 7, 297),
       (6, 5, 245),
       (7, 13, 325),
       (7, 8, 45),
       (8, 9, 36),
       (8, 14, 25),
       (8, 14, 254),
       (9, 11, 289),
       (10, 9, 44),
       (11, 16, 317),
       (12, 17, 175),
       (12, 13, 237),
       (12, 5, 2),
       (13, 9, 10),
       (14, 13, 223),
       (15, 16, 63),
       (16, 7, 119),
       (16, 10, 278),
       (16, 2, 224),
       (17, 4, 277),
       (17, 3, 329),
       (17, 14, 51),
       (18, 12, 232),
       (18, 17, 145),
       (19, 2, 253),
       (20, 13, 349);